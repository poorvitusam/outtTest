<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
  		<script src="http://code.jquery.com/jquery-latest.min.js"></script>
  		<link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  		<link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
  		<script type="text/javascript" src="slick/slick.min.js"></script>
	</head>
	<body>
		<div class="pg-container js-page">
			<div class="nav-main js-nav-main">
				<div class="nav_options js-options" data-navOptions="2">About Us</div>
				<div class="nav_options js-options selected" data-navOptions="1">Home</div>
			</div>
			<div class="js-page-container">
				<div class="container hide js-home-page" data-content="1"></div>
				<div class="js-aboutUs" data-content="2">
					<div class="slider js-slides">
<!-- 
						<img src="http://placehold.it/940x528">
						<img src="http://placehold.it/940x528">
						<img src="http://placehold.it/940x528">
						<img src="http://placehold.it/940x528">
						<img src="http://placehold.it/940x528">
 -->					<div class="slider_slide slider_slide-blue"></div>
						<div class="slider_slide slider_slide-red"></div>
						<div class="slider_slide slider_slide-yellow"></div>
						<div class="slider_slide slider_slide-green"></div>
					</div>
				</div>
			</div>
		</div>
		
		<script type="text/javascript">

			//JavaScript goes here

			$(document).ready(function(){
				var $page = $(".js-page");

				//Call for dynamically loading home page
			    $.ajax({
			        type: "GET",
			        url: 'https://jsonplaceholder.typicode.com/posts',
			        data: "{}",
			        dataType: "json",
			        success: function (data) {
			            
				        var innerHTML = '';
				        
				        $.each(data, function(i, item) {
						    innerHTML += '<div class="post js-post" data-id="' + data[i].userId + '"> <div class="post_title">' + data[i].title + '</div><div class="post_close js-close">&times;</div><div class="post_content">' + data[i].body + '</div></div>';
						});
			        
			        	$page.find(".js-home-page").append(innerHTML);
			        
			        },
			        error: function (msg) {
			            
			            alert(msg.responseText);
			        }
			    });


			    $page.find('.js-home-page').on('click','.js-close',function(){
				    $(this).closest(".js-post").remove();
				});


			    $page.find('.js-home-page').on('click','.js-post',function(){
				    var id = $(this).attr("data-id");
					var url = 'https://jsonplaceholder.typicode.com/users/' + id;
				    $.ajax({
				        type: "GET",
				        url: url,
				        data: "{}",
				        dataType: "json",
				        success: function (data) {
				        	var innerHTML = '<div class="postExpanded js-postExpanded"><div class="postExpanded_title">' + data.name +'</div><div class="postexpanded_userDetails"> <div class="postExpanded_name">' +data.username + '</div><div class="postExpanded_city">' + data.address.city + '</div> </div><div class="clr"></div><div class="postExpanded_content">body</div><div class="btn-postExpanded_displayToggle js-btn-commentsToggle">Show Comments</div><div class="clr"></div><div class="postExpanded_commentsBlock js-commentsBlock hide"><div class="postExpanded_commentsBlock_name">' + data.company.name + ': </div><div class="postExpanded_commentsBlock_body">' + data.company.catchPhrase +'</div></div><div class="clr"></div></div>'
				        	$page.find(".js-page-container").find(".js-home-page").html(innerHTML);
				        
				        },
				        error: function (msg) {
				            
				            alert(msg.responseText);
				        }
				    });
				});

				$page.find(".js-nav-main").on('click', '.js-options', function() {
					//Handle nav bar
					$page.find(".js-nav-main").find(".js-options").removeClass("selected");
					$(this).addClass("selected");

					var option_num = $(this).attr("data-navOptions");//Store the page to be viewed

					//Handle the body as per the nav bar
					$page.find(".js-page-container").children().addClass("hide");
					$page.find(".js-page-container").children().each(function() {
						$item = $(this);
						if($item.attr("data-content") == option_num) {
							$item.removeClass("hide");
						}
					});
				});

				$page.find('.js-page-container').find('.js-home-page').on('click', '.js-btn-commentsToggle', function () {
					$(this).text(function(i, text){
			          return text === "Show Comments" ? "Hide Comments" : "Show Comments";
			      })
					$page.find(".js-postExpanded").find(".js-commentsBlock").slideToggle();	
				})

				// $page.find(".js-aboutUs").find(".js-slides").slidesjs({
				// 	width: 940,
				// 	height: 528,
				// 	navigation: {
	   //    				active: true,
	   //      			effect: "slide"
    // 				}
				// });

				$page.find(".js-aboutUs").find(".js-slides").slick({
				  slidesToShow: 3,
				  slidesToScroll: 1,
				  autoplay: true,
				  autoplaySpeed: 500,
				});
			})
		</script>
	</body>
</html>